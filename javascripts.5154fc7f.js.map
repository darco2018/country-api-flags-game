{"version":3,"sources":["modulev2/player-module-v2.js","modulev2/game-module-v2.js","javascripts/index.js"],"names":["Player","playerId","id","score","getId","getScore","Number","setScore","playerScore","Error","toString","Game","gameName","numberOfTurns","name","noOfTurns","currentPlayer","undefined","players","currentTurn","getGameName","addPlayer","player","push","removePlayer","initialLength","length","filter","p","getNoOfPlayers","setNoOfTurns","getNoOfTurns","incrementTurn","resetCurrentTurn","getCurrentTurn","getCurrentPlayer","setCurrentPlayer","getWinners","result","_isDrawInternal","winners","forEach","highestScore","isDraw","frequency","map","Map","currScore","has","set","get","flagImg","document","getElementById","first","querySelector","second","third","firstInput","secondInput","thirdInput","firstCircle","secondCircle","thirdCircle","answer","form","p1Score","p2Score","opt","p1MatchScore","p2MatchScore","resetBtn","levelNumber","matchNumber","playersNumber","optionsPage","gamePage","back","levelChoice","radioBtns","querySelectorAll","playBtn","NUMBER_OF_OPTIONS","opt2","opt3","gameNumber","API_URL","countryArray","correctAnswer","userAnswer","options","next","flagsPerMatch","nextFlagAllowed","level","game","difficulty","indexOfAnswer","easyFlagsImmutable","mediumFlagsImmutable","easyFlagsMutable","slice","mediumFlagsMutable","hardFlagsMutable","hardFlagsImmutable","currentlyUnavailableFlags","player1","player2","init","initGame","classList","add","localStorage","getItem","setItem","renderScores","j","getUserAnswer","i","checked","value","disableRadioButtons","disabled","renderAnswer","userGuessed","remove","renderResult","updateScore","requestCountryData","includes","reset","console","log","initNewMatch","innerHTML","currPlayer","changeTurn","generateOptionsAsIndexes","shuffle","renderCountryNamesOnBtns","extractCountryNames","setFlagUrl","extractFlag","isCountryHardEnough","response","fetch","json","error","msg","getRandomInt","min","max","random","Math","ceil","floor","countryNames","innerText","flag","src","names","countryNmb","array","temp","generateOtherCountries","opt1","index","splice","addEventListener","event","preventDefault"],"mappings":"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","file":"javascripts.5154fc7f.js","sourceRoot":"../src","sourcesContent":["export function Player(playerId){\n    // 1\n    const id = playerId;\n    let score = 0;\n\n\n    this.getId = () => {\n        return id;\n    }\n  \n    this.getScore = () => {\n        return Number(score);\n    }\n    // 2 3 \n    this.setScore = (playerScore) => {\n        if (playerScore < 0) {\n            throw new Error(\"Score cannot be negative\");\n        }\n        score = Number(playerScore);\n    }\n\n    this.toString = () => {\n        return \"id: \" + id + \", score: \" + score;\n    };\n}","import { Player } from \"./player-module-v2\";\n\n\n\nexport function Game(gameName, numberOfTurns) {\n    const name = gameName;\n    let noOfTurns = numberOfTurns;\n\n    let currentPlayer = undefined;\n    let players = [];\n    let currentTurn = 1;\n\n    this.getGameName = () => {\n        return name;\n    }\n\n    this.addPlayer = (player) => {\n        players.push(player);\n    }\n\n    this.removePlayer = (player) => {\n        let initialLength = players.length;\n        players = players.filter(p => p.id !== player.id);\n\n        if (initialLength === players.length) {\n            throw new Error(\"Cannot remove the player. Player not found.\");\n        }\n    }\n\n    this.getNoOfPlayers = () => {\n        return players.length;\n    }\n\n    this.setNoOfTurns = (numberOfTurns) => {\n        noOfTurns = numberOfTurns;\n    }\n\n    this.getNoOfTurns = () => {\n        return noOfTurns;\n    }\n    \n    this.incrementTurn = () => {\n        if (currentTurn < noOfTurns) {\n            currentTurn++;\n        } else {\n            throw new Error(\"Current turn can not be larger than total number of turns.\");\n        }\n    }\n\n    this.resetCurrentTurn = () => {\n        currentTurn = 1;\n    }\n\n    this.getCurrentTurn = () => {\n        return currentTurn;\n    }\n\n    this.getCurrentPlayer = () => {\n        return currentPlayer;\n    }\n\n    this.setCurrentPlayer = (player) => {\n        currentPlayer = player;\n    }\n    \n    this.getWinners = () => {\n        const result = _isDrawInternal();\n        const winners = [];\n\n        players.forEach(p => {\n            if (p === result.highestScore) {\n                winners.push(p);\n            }\n        });\n        return winners;\n\n    }\n\n    this.isDraw = () => {\n        let result = this._isDrawInternal();\n        return result.frequency > 1 ? true : false;\n    }\n\n    this._isDrawInternal = () => {\n        let highestScore = 0;\n        let map = new Map();\n\n        players.forEach(p => {\n            const currScore = p.getScore();\n            highestScore = currScore > highestScore ? currScore : highestScore;\n            //let frequency = map.get(currScore);\n            // if frequency is null/undefined/0/\"\" the next line is false\n            if (map.has(currScore)) {\n                map.set(currScore, map.get(currScore) + 1);\n            } else {\n                map.set(currScore, 1);\n            }\n        });\n      \n        return {\n            highestScore: highestScore,\n            frequency: map.get(highestScore)\n        };\n\n    }\n\n    this.toString = () => {\n        return \"name: \" + name + \", noOfTurns: \" + noOfTurns + \", currTurn: \" + currentTurn + \", currPlayer: \" + currentPlayer +\n            \"\\nplayers: \" + players.toString();\n    }\n} ","import { Player } from \"../modulev2/player-module-v2\";\nimport { Game } from \"../modulev2/game-module-v2\";\n// set constants for number of options, country array\n// vars: options(array which keeps indexes), correctAnswer(index), userAnswer(index),   \n\n\n/* ----------------------- HTML elements -------------------------- */\nlet flagImg = document.getElementById(\"flag\");\nlet first = document.querySelector(\"#options .option:nth-of-type(1) label\");\nlet second = document.querySelector(\"#options .option:nth-of-type(2) label\");\nlet third = document.querySelector(\"#options .option:nth-of-type(3) label\");\nlet firstInput = document.getElementById(\"choice1\");\nlet secondInput = document.getElementById(\"choice2\");\nlet thirdInput = document.getElementById(\"choice3\");\nlet firstCircle = document.getElementById(\"circleOne\");\nlet secondCircle = document.getElementById(\"circleTwo\");\nlet thirdCircle = document.getElementById(\"circleThree\");\nlet answer = document.getElementById(\"answer\");\nlet result = document.getElementById(\"result\");\nlet form = document.querySelector(\"form\");\nlet p1Score = document.querySelector(\"#rightScore\");\nlet p2Score = document.querySelector(\"#leftScore\");\nlet opt = document.querySelector(\"#settings\");\nlet p1MatchScore = document.querySelector(\"#p1MatchScore\");\nlet p2MatchScore = document.querySelector(\"#p2MatchScore\");\nlet resetBtn = document.querySelector(\"#resetBtn\");\nlet levelNumber = document.querySelector(\"#levelNumber\");\nlet matchNumber = document.querySelector(\"#matchNumber\");\nlet playersNumber = document.querySelector(\"#playersNumber\");\nlet optionsPage = document.querySelector(\"#optionsPage\");\nlet gamePage = document.querySelector(\"#gamePage\");\nlet back = document.querySelector(\"#backToGame\");\nlet levelChoice = document.querySelector(\"#level-select\");\nlet radioBtns = document.querySelectorAll(\"input[type=radio]\");\nlet playBtn = document.querySelector(\"#play\");\n// other variables \nconst NUMBER_OF_OPTIONS = 3;\nlet gameNumber = 1;\nlet opt2;\nlet opt3;\nconst API_URL = \"https://restcountries.eu/rest/v2/all\"\nlet countryArray;\nlet options = [];\nlet correctAnswer;\nlet next = document.getElementById(\"nextBtn\");\nlet userAnswer;\nlet flagsPerMatch = 2;\nlet nextFlagAllowed = false;\nlet level = \"medium\";\nlet game = new Game(\"Flag game\", flagsPerMatch);\nlet difficulty = \"medium\";\nlet indexOfAnswer = 0;\nlet easyFlagsImmutable = [\"Korea (Republic of)\", \"Australia\", \"Netherlands\", \"Indonesia\", \"Saudi Arabia\", \n\"Mayotte\", \"Antarctica\", \"Israel\", \"Canada\", \"Switzerland\", \"Brazil\", \"Japan\", \n\"United Kingdom of Great Britain and Northern Ireland\", \"Sweden\",\"Turkey\", \"Germany\", \"United States of America\", \n\"Spain\", \"Cyprus\",\"Greece\", \"Austria\", \"Croatia\", \"Italy\", \"Russian Federation\",\"Ireland\", \n\"Poland\", \"France\", \"China\", \"Norway\",\"Portugal\"];\nlet mediumFlagsImmutable = [\"Liechtenstein\", \"Thailand\", \"Puerto Rico\", \"Korea (Democratic People's Republic of)\", \"Kenya\", \n\"Mexico\", \"Georgia\", \"Bosnia and Herzegovina\", \"Macedonia (the former Yugoslav Republic of)\", \n\"Saint Martin (French part)\", \"Malta\", \"Luxembourg\", \"Bulgaria\", \"Tunisia\", \"Republic of Kosovo\", \"Iraq\", \"India\", \n\"Egypt\",\"Chile\", \"Uruguay\", \"Belgium\", \"Mongolia\", \"Greenland\", \"Lithuania\",\"Montenegro\", \"Holy See\", \"Viet Nam\", \n\"Slovakia\", \"Slovenia\", \"Albania\", \"Hungary\", \"Czech Republic\", \"Denmark\", \"Macedonia\", \"Belarus\", \"Ukraine\", \n\"Estonia\", \"Lithuana\", \"Luxenbourg\", \"Latvia\", \"Romania\"];\nlet easyFlagsMutable = easyFlagsImmutable.slice();\nlet mediumFlagsMutable = mediumFlagsImmutable.slice();\nlet hardFlagsMutable = [];\nlet hardFlagsImmutable = [];\n\nlet currentlyUnavailableFlags = [];\nconst player1 = new Player(1);\nconst player2 = new Player(2);\ngame.addPlayer(player1);\ngame.addPlayer(player2);\ngame.setCurrentPlayer(player1); \ninit();\ninitGame();\np1Score.classList.add(\"activePlayer\");\noptionsPage.classList.add(\"invisible\");\nplayBtn.classList.add(\"bold\");\n\nif (localStorage.getItem(\"player1\") === null) {\n    localStorage.setItem('player1', Number(0));\n    localStorage.setItem('player2', Number(0));\n    \n    renderScores()\n} else {\n    renderScores()\n}\nlet j = 0;\n\n/* -------------------------- Event listeners ---------------------------- */\nlevelChoice.addEventListener(\"change\", function (event) {\ndifficulty = levelChoice.value;\ncurrentlyUnavailableFlags = [];\nreset();\n});\n\nform.addEventListener(\"change\", function (event) {\n    nextFlagAllowed = true;\n    next.classList.remove(\"invisible\");\n    next.classList.add(\"visible\");\n\n    disableRadioButtons();\n    let userAnswer = getUserAnswer();\n    renderAnswer(Number(userAnswer) === correctAnswer);\n    changeTurn();\n    gameNumber++;\n    renderScores();\n    event.preventDefault();\n}, false);\n\nnext.addEventListener(\"click\", function () {\n    if (nextFlagAllowed) {\n        reset();\n        nextFlagAllowed = false;\n        next.classList.add(\"invisible\");\n        next.classList.remove(\"visible\");\n\n    }\n});\n\nopt.addEventListener(\"click\", function () {\n    \n        optionsPage.classList.remove(\"invisible\");\n        gamePage.classList.remove(\"visible\");\n        gamePage.classList.add(\"invisible\");\n        optionsPage.classList.add(\"visible\");\n        playBtn.classList.remove(\"bold\");\n        opt.classList.add(\"bold\");\n});\n\nplayBtn.addEventListener(\"click\", function () {\n    opt.classList.remove(\"bold\");\n    playBtn.classList.add(\"bold\");\n    \n    gamePage.classList.remove(\"invisible\");\n    optionsPage.classList.add(\"invisible\");\n    optionsPage.classList.remove(\"visible\");\n    gamePage.classList.add(\"visible\");\n});\n\nresetBtn.addEventListener(\"click\", function () {\n    \n    game.resetCurrentTurn();\n    localStorage.setItem('player1', Number(0));\n    localStorage.setItem('player2', Number(0));\n    p1Score.classList.add(\"activePlayer\");\n    p2Score.classList.remove(\"activePlayer\");\n    game.setCurrentPlayer(player1);\n    player1.setScore(0);\n    player2.setScore(0);\n    renderScores();\n});\n\n\nfunction getUserAnswer() {\n    let userAnswer = \"\";\n    for (var i = 0; i < radioBtns.length; i++) {\n        if (radioBtns[i].checked) {\n\n            userAnswer = radioBtns[i].value;\n\n        }\n    }\n    \n\n    return userAnswer;\n}\n\nfunction disableRadioButtons() {\n    firstInput.disabled = true;\n    secondInput.disabled = true;\n    thirdInput.disabled = true;\n}\n\nfunction renderAnswer(userGuessed) {\n    if (userGuessed) {\n        answer.classList.remove(\"red\");\n        answer.classList.add(\"green\");\n        renderResult(\"Correct!\");\n        updateScore();\n    }\n    else {\n        answer.classList.remove(\"green\");\n        answer.classList.add(\"red\");\n        renderResult(\"Inncorect! Correct answer is \" + countryArray[correctAnswer].name);\n    }\n}\n\n/* ------------------------------ main methods --------------------------- */\n\nasync function init() {\n    countryArray = await requestCountryData();\n    for(let i=0; i < countryArray.length; i++){\n        if(easyFlagsImmutable.includes(countryArray[i].name) || mediumFlagsImmutable.includes(countryArray[i].name)){\n       \n        }else{\n           hardFlagsImmutable[j] = countryArray[i].name;\n           \n           j++;\n       }\n       }\n       hardFlagsMutable = hardFlagsImmutable.slice();\n    reset();\n}\n\nfunction initGame() {\n    console.log(\"Init game\");\n\n\n}\nfunction initNewMatch() {\n\n    if (game.isDraw()) {\n        result.innerHTML = \"It is a draw!!!!\";\n\n    }\n    else {\n        if (player1.getScore() > player2.getScore()) {\n            let score = localStorage.getItem(\"player1\");\n            localStorage.setItem(\"player1\", Number(score) + 1);\n            result.innerHTML = \"player one has won.\";\n\n        }\n        else {\n            let score = localStorage.getItem(\"player2\");\n            localStorage.setItem(\"player2\", Number(score) + 1);\n            result.innerHTML = \"player two has won.\";\n        }\n    }\n    p1Score.classList.add(\"activePlayer\");\n    p2Score.classList.remove(\"activePlayer\");\n    player1.setScore(0);\n    player2.setScore(0);\n    renderScores();\n}\nfunction updateScore() {\n    console.log(\"Updating score\");\n    let currPlayer = game.getCurrentPlayer();\n    currPlayer.setScore(currPlayer.getScore() + 1);\n    console.log(\"increasing player score and rendering\");\n}\n\nfunction changeTurn() {\n    if (game.getCurrentTurn() < game.getNoOfTurns()) {\n        game.incrementTurn();\n    } else {\n        if (game.getCurrentPlayer().getId() === player1.getId()) {\n            p1Score.classList.remove(\"activePlayer\");\n            p2Score.classList.add(\"activePlayer\");\n            game.setCurrentPlayer(player2);\n\n        } else {\n            game.setCurrentPlayer(player1);\n            initNewMatch();\n        }\n        game.resetCurrentTurn();\n\n    }\n}\n\nasync function reset() {\n    result.innerHTML = \"\";\n    answer.innerHTML = \"\";\n    options = generateOptionsAsIndexes(); // 56, 78, 134\n    correctAnswer = options[0]; // 56\n    shuffle(options);\n    renderCountryNamesOnBtns(extractCountryNames());\n    setFlagUrl(extractFlag(correctAnswer));\n    firstInput.disabled = false;\n    secondInput.disabled = false;\n    thirdInput.disabled = false;\n    firstInput.checked = false;\n    secondInput.checked = false;\n    thirdInput.checked = false;\n}\n\n\n\n/* ------------------------------ heplers ----------------------------- */\nfunction isCountryHardEnough(opt){\n    if(difficulty === \"easy\"){\n        for(let i=0; i<easyFlagsImmutable.length;i++){\n            if(countryArray[opt].name === easyFlagsImmutable[i]){\n             return true;   \n            }\n        }\n    }\n    if(difficulty === \"medium\"){\n        for(let i=0; i<mediumFlagsImmutable.length;i++){\n            if(countryArray[opt].name === mediumFlagsImmutable[i]){\n             return true;   \n            }\n        }\n    }\n    if(difficulty === \"hard\"){\n        for(let i=0; i<easyFlagsImmutable.length;i++){\n            if(countryArray[opt].name === easyFlagsImmutable[i]){\n             return false;   \n            }\n        }\n        for(let i=0; i<mediumFlagsImmutable.length;i++){\n            if(countryArray[opt].name === mediumFlagsImmutable[i]){\n             return false;   \n            }\n        }\n        \n        return true;\n    }\n    return false;\n}\nasync function requestCountryData() {\n    try {\n        let response = await fetch(API_URL);\n        let countryArray = await response.json();\n        return countryArray;\n    } catch (error) {\n        console.log(error);\n    }\n}\nfunction renderResult(msg) {\n    answer.innerHTML = msg;\n}\n/**\n * Returns a random number between min (inclusive) and max(exclusive)\n */\nfunction getRandomInt(min, max) {\n    let maxExclusive = true;\n    min = Math.ceil(min);\n    max = maxExclusive ? Math.floor(max) - 1 : Math.floor(max);\n    let random = Math.floor(Math.random() * (max - min + 1)) + min;\n    return random;\n}\n\nfunction renderCountryNamesOnBtns(countryNames) {\n/*     first.innerText = countryArray[options[0]].name;\n    second.innerText = countryArray[options[1]].name;\n    third.innerText = countryArray[options[2]].name; */\n    first.innerText = countryArray[options[0]].name;\n    second.innerText = countryArray[options[1]].name;\n    third.innerText = countryArray[options[2]].name;\n    firstInput.value = options[0];\n    secondInput.value = options[1];\n    thirdInput.value = options[2];\n}\n\nfunction setFlagUrl(flag) {\n    flagImg.src = flag;\n}\n\nfunction extractCountryNames() {\n    let names = [];\n    let countryNmb;\n    for (let i = 0; i < options.length; i++) {\n        countryNmb = options[i];\n        names[i] = countryArray[countryNmb].name;\n    }\n    return names;\n}\n\nfunction extractFlag(correctAnswer) {\n    return countryArray[correctAnswer].flag;\n}\nfunction shuffle(array) {\n\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i);\n        const temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n}\n\nfunction renderScores() {\n    p1Score.innerHTML = player1.getScore() + \"/\" + game.getNoOfTurns();\n    p2Score.innerHTML = \"  :  \" + player2.getScore() + \"/\" + game.getNoOfTurns();\n    p1MatchScore.innerHTML = localStorage.getItem(\"player1\");\n    p2MatchScore.innerHTML = \"  :  \" + localStorage.getItem(\"player2\");\n    /* levelNumber.innerHTML = level;\n    matchNumber.innerHTML = flagsPerMatch;\n    playersNumber.innerHTML = game.getNoOfPlayers(); */\n}\n//localStorage.getItem(\"player1\") - match score\n//player1.getScore() -- actual score game.getNoOfTurns()\n\n\n\nfunction generateOtherCountries(){\n     opt2 = getRandomInt(0, countryArray.length);\n     opt3 = getRandomInt(0, countryArray.length);\n\n}\nfunction generateOptionsAsIndexes() {\n    let opt1;\n    generateOtherCountries();\n    if(easyFlagsMutable.length < 1){\n        easyFlagsMutable = easyFlagsImmutable.slice();\n    }\n    if(mediumFlagsMutable.length < 1){\n        mediumFlagsMutable = mediumFlagsImmutable.slice();\n    }\n    if(hardFlagsMutable.length < 1){\n        hardFlagsMutable = hardFlagsImmutable.slice();\n    }\n    if(difficulty === \"easy\"){\n        let index = getRandomInt(0, easyFlagsMutable.length)\n        opt1 = easyFlagsMutable[index];\n        easyFlagsMutable.splice(index, 1);\n    }if(difficulty === \"medium\"){\n        let index = getRandomInt(0, mediumFlagsMutable.length);\n        opt1 = mediumFlagsMutable[index];\n       mediumFlagsMutable.splice(index, 1);\n    }if(difficulty === \"hard\"){\n        let index = getRandomInt(0, hardFlagsMutable.length);\n        opt1 = hardFlagsMutable[index];\n        hardFlagsMutable.splice(index, 1);\n    }\n    for(let i=0; i<countryArray.length; i++){\n        if(opt1 === countryArray[i].name){\n            indexOfAnswer = i;\n        }\n    }\n    while(opt2 === indexOfAnswer || indexOfAnswer === opt3 || opt2 === opt3){\n        generateOtherCountries();\n    }\n\n\n    for(let i=0; i<easyFlagsMutable.length; i++){\n            console.log(easyFlagsMutable[i]);\n    }\n    \n\n    return [indexOfAnswer, opt2, opt3];\n}"]}