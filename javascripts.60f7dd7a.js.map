{"version":3,"sources":["modulev2/player-module-v2.js","modulev2/game-module-v2.js","javascripts/index.js"],"names":["Player","playerId","id","score","getId","getScore","Number","setScore","playerScore","Error","toString","Game","gameName","numberOfTurns","name","noOfTurns","currentPlayer","undefined","players","currentTurn","getGameName","addPlayer","player","push","removePlayer","initialLength","length","filter","p","getNoOfPlayers","setNoOfTurns","getNoOfTurns","incrementTurn","resetCurrentTurn","getCurrentTurn","getCurrentPlayer","setCurrentPlayer","getWinners","result","_isDrawInternal","winners","forEach","highestScore","isDraw","frequency","map","Map","currScore","has","set","get","flagImg","document","getElementById","first","querySelector","second","third","firstInput","secondInput","thirdInput","firstCircle","secondCircle","thirdCircle","answer","form","p1Score","p2Score","opt","p1MatchScore","p2MatchScore","resetBtn","levelNumber","matchNumber","playersNumber","optionsPage","gamePage","back","levelChoice","radioBtns","querySelectorAll","playBtn","NUMBER_OF_OPTIONS","opt2","opt3","gameNumber","API_URL","countryArray","correctAnswer","userAnswer","options","next","nextFlagAllowed","level","difficulty","indexOfAnswer","easyFlagsImmutable","mediumFlagsImmutable","hardFlagsImmutable","easyFlagsMutable","slice","mediumFlagsMutable","hardFlagsMutable","masterFlagsMutable","masterFlagsImmutable","flagsPerMatch","Math","round","game","currentlyUnavailableFlags","player1","player2","init","initGame","classList","add","localStorage","getItem","setItem","renderScores","j","getUserAnswer","i","checked","value","disableRadioButtons","disabled","renderAnswer","userGuessed","remove","renderResult","updateScore","requestCountryData","includes","printSortedArray","reset","console","log","initNewMatch","innerHTML","currPlayer","changeTurn","generateOptionsAsIndexes","shuffle","renderCountryNamesOnBtns","extractCountryNames","setFlagUrl","extractFlag","isCountryHardEnough","response","fetch","json","error","msg","getRandomInt","min","max","random","ceil","floor","countryNames","innerText","flag","src","names","countryNmb","array","temp","generateOtherCountries","opt1","index","splice","arr","sort","addEventListener","event","preventDefault"],"mappings":"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","file":"javascripts.60f7dd7a.js","sourceRoot":"../src","sourcesContent":["export function Player(playerId){\n    // 1\n    const id = playerId;\n    let score = 0;\n\n\n    this.getId = () => {\n        return id;\n    }\n  \n    this.getScore = () => {\n        return Number(score);\n    }\n    // 2 3 \n    this.setScore = (playerScore) => {\n        if (playerScore < 0) {\n            throw new Error(\"Score cannot be negative\");\n        }\n        score = Number(playerScore);\n    }\n\n    this.toString = () => {\n        return \"id: \" + id + \", score: \" + score;\n    };\n}","import { Player } from \"./player-module-v2\";\n\n\n\nexport function Game(gameName, numberOfTurns) {\n    const name = gameName;\n    let noOfTurns = numberOfTurns;\n\n    let currentPlayer = undefined;\n    let players = [];\n    let currentTurn = 1;\n\n    this.getGameName = () => {\n        return name;\n    }\n\n    this.addPlayer = (player) => {\n        players.push(player);\n    }\n\n    this.removePlayer = (player) => {\n        let initialLength = players.length;\n        players = players.filter(p => p.id !== player.id);\n\n        if (initialLength === players.length) {\n            throw new Error(\"Cannot remove the player. Player not found.\");\n        }\n    }\n\n    this.getNoOfPlayers = () => {\n        return players.length;\n    }\n\n    this.setNoOfTurns = (numberOfTurns) => {\n        noOfTurns = numberOfTurns;\n    }\n\n    this.getNoOfTurns = () => {\n        return noOfTurns;\n    }\n    \n    this.incrementTurn = () => {\n        if (currentTurn < noOfTurns) {\n            currentTurn++;\n        } else {\n            throw new Error(\"Current turn can not be larger than total number of turns.\");\n        }\n    }\n\n    this.resetCurrentTurn = () => {\n        currentTurn = 1;\n    }\n\n    this.getCurrentTurn = () => {\n        return currentTurn;\n    }\n\n    this.getCurrentPlayer = () => {\n        return currentPlayer;\n    }\n\n    this.setCurrentPlayer = (player) => {\n        currentPlayer = player;\n    }\n    \n    this.getWinners = () => {\n        const result = _isDrawInternal();\n        const winners = [];\n\n        players.forEach(p => {\n            if (p === result.highestScore) {\n                winners.push(p);\n            }\n        });\n        return winners;\n\n    }\n\n    this.isDraw = () => {\n        let result = this._isDrawInternal();\n        return result.frequency > 1 ? true : false;\n    }\n\n    this._isDrawInternal = () => {\n        let highestScore = 0;\n        let map = new Map();\n\n        players.forEach(p => {\n            const currScore = p.getScore();\n            highestScore = currScore > highestScore ? currScore : highestScore;\n            //let frequency = map.get(currScore);\n            // if frequency is null/undefined/0/\"\" the next line is false\n            if (map.has(currScore)) {\n                map.set(currScore, map.get(currScore) + 1);\n            } else {\n                map.set(currScore, 1);\n            }\n        });\n      \n        return {\n            highestScore: highestScore,\n            frequency: map.get(highestScore)\n        };\n\n    }\n\n    this.toString = () => {\n        return \"name: \" + name + \", noOfTurns: \" + noOfTurns + \", currTurn: \" + currentTurn + \", currPlayer: \" + currentPlayer +\n            \"\\nplayers: \" + players.toString();\n    }\n} ","import { Player } from \"../modulev2/player-module-v2\";\nimport { Game } from \"../modulev2/game-module-v2\";\n// set constants for number of options, country array\n// vars: options(array which keeps indexes), correctAnswer(index), userAnswer(index),   \n\n\n/* ----------------------- HTML elements -------------------------- */\nlet flagImg = document.getElementById(\"flag\");\nlet first = document.querySelector(\"#options .option:nth-of-type(1) label\");\nlet second = document.querySelector(\"#options .option:nth-of-type(2) label\");\nlet third = document.querySelector(\"#options .option:nth-of-type(3) label\");\nlet firstInput = document.getElementById(\"choice1\");\nlet secondInput = document.getElementById(\"choice2\");\nlet thirdInput = document.getElementById(\"choice3\");\nlet firstCircle = document.getElementById(\"circleOne\");\nlet secondCircle = document.getElementById(\"circleTwo\");\nlet thirdCircle = document.getElementById(\"circleThree\");\nlet answer = document.getElementById(\"answer\");\nlet result = document.getElementById(\"result\");\nlet form = document.querySelector(\"form\");\nlet p1Score = document.querySelector(\"#rightScore\");\nlet p2Score = document.querySelector(\"#leftScore\");\nlet opt = document.querySelector(\"#settings\");\nlet p1MatchScore = document.querySelector(\"#p1MatchScore\");\nlet p2MatchScore = document.querySelector(\"#p2MatchScore\");\nlet resetBtn = document.querySelector(\"#resetBtn\");\nlet levelNumber = document.querySelector(\"#levelNumber\");\nlet matchNumber = document.querySelector(\"#matchNumber\");\nlet playersNumber = document.querySelector(\"#playersNumber\");\nlet optionsPage = document.querySelector(\"#optionsPage\");\nlet gamePage = document.querySelector(\"#gamePage\");\nlet back = document.querySelector(\"#backToGame\");\nlet levelChoice = document.querySelector(\"#level-select\");\nlet radioBtns = document.querySelectorAll(\"input[type=radio]\");\nlet playBtn = document.querySelector(\"#play\");\n// other variables \nconst NUMBER_OF_OPTIONS = 3;\nlet gameNumber = 1;\nlet opt2;\nlet opt3;\nconst API_URL = \"https://restcountries.eu/rest/v2/all\"\nlet countryArray;\nlet options = [];\nlet correctAnswer;\nlet next = document.getElementById(\"nextBtn\");\nlet userAnswer;\n\nlet nextFlagAllowed = false;\nlet level = \"medium\";\n\nlet difficulty = \"medium\";\nlet indexOfAnswer = 0;\nlet easyFlagsImmutable = [\"Korea (Republic of)\", \"Netherlands\", \"Indonesia\", \n\"Mayotte\", \"Antarctica\", \"Israel\", \"Canada\", \"Switzerland\", \"Brazil\", \"Japan\", \n\"United Kingdom of Great Britain and Northern Ireland\", \"Sweden\",\"Turkey\", \"Germany\", \"United States of America\", \n\"Spain\", \"Cyprus\", \"Slovakia\", \"Greece\", \"Austria\", \"Croatia\", \"Italy\", \"Denmark\", \"Russian Federation\", \n\"Poland\", \"France\", \"China\", \"Uruguay\", \"Belgium\", \"Czech Republic\", \"Ukraine\", \"Holy See\", \"Norway\",\"Portugal\", \"Sudan\", \"Finland\", \"Nepal\", \"New Zeland\", \"Iceland\", \"United States Minor Outlying Islands\"];\nlet mediumFlagsImmutable = [ \"Australia\", \"Puerto Rico\", \"Korea (Democratic People's Republic of)\",  \n\"Mexico\",   \"Macedonia (the former Yugoslav Republic of)\", \n\"Saint Martin (French part)\", \"Malta\", \"Luxembourg\", \"Ireland\", \"Bulgaria\",  \"Republic of Kosovo\", \"Iraq\", \"India\", \n\"Egypt\",\"Chile\", \"Mongolia\",  \"Lithuania\",\"Montenegro\", \"Viet Nam\", \n\"Slovenia\", \"Albania\", \"Hungary\", \"Macedonia\", \"Belarus\", \n\"Estonia\", \"Romania\", \"Saudi Arabia\", \"Nicaragua\", \"Venezuela (Bolivarian Republic of)\", \"Syrian Arab Republic\", \"Serbia\", \"Hong Kong\", \"Argentina\"];\nlet hardFlagsImmutable = [\"Tunisia\", \"Liechtenstein\", \"Bosnia and Herzegovina\", \"Greenland\", \"Kenya\", \"Georgia\", \"Thailand\", \"Panama\", \"Jersey\", \"Bhutan\", \"Cambodia\", \"Tobago\",\n\"Kuwait\", \"Haiti\", \"Algieria\", \"Lebanon\", \"Sri Lanka\", \"Libya\", \"Jamaica\", \"Colombia\", \"Ecuador\", \"Paraguay\", \"Afghanistan\", \"San Marino\", \"Sudan\", \"Andora\", \"Senegal\", \"Somalia\",\n\"Turkmenistan\", \"Pakistan\", \"Iran\", \"Peru\", \"Cuba\", \"Honduras\", \"Jordan\", \"Uzbekistan\", \"South Georgia and the South Sandwich Islands\", \"Papua New Guinea\", \"Cook Islands\",\n\"Virgin Islands (British)\", \"Heard Island and McDonald Islands\", \"Western Sahara\", \"Åland Islands\", \"French Southern Territories\"];\nlet easyFlagsMutable = easyFlagsImmutable.slice();\nlet mediumFlagsMutable = mediumFlagsImmutable.slice();\nlet hardFlagsMutable = hardFlagsImmutable.slice();\nlet masterFlagsMutable = [];\nlet masterFlagsImmutable = [];\nlet flagsPerMatch = Math.round((mediumFlagsImmutable.length -1)/ 2);\nlet game = new Game(\"Flag game\", flagsPerMatch);\nlet currentlyUnavailableFlags = [];\nconst player1 = new Player(1);\nconst player2 = new Player(2);\ngame.addPlayer(player1);\ngame.addPlayer(player2);\ngame.setCurrentPlayer(player1); \ninit();\ninitGame();\np1Score.classList.add(\"activePlayer\");\noptionsPage.classList.add(\"invisible\");\nplayBtn.classList.add(\"bold\");\n\nif (localStorage.getItem(\"player1\") === null) {\n    localStorage.setItem('player1', Number(0));\n    localStorage.setItem('player2', Number(0));\n    \n    renderScores()\n} else {\n    renderScores()\n}\nlet j = 0;\n\n/* -------------------------- Event listeners ---------------------------- */\nlevelChoice.addEventListener(\"change\", function (event) {\ndifficulty = levelChoice.value;\ncurrentlyUnavailableFlags = [];\nif(difficulty === \"easy\"){\n    flagsPerMatch = Math.round((easyFlagsImmutable.length-1) / 2);\n}\nif(difficulty === \"medium\"){\n    flagsPerMatch = Math.round((mediumFlagsImmutable.length -1)/ 2);\n}\nif(difficulty === \"hard\"){\n    flagsPerMatch = Math.round((hardFlagsImmutable.length -1)/ 2);\n}\nif(difficulty === \"master\"){\n    flagsPerMatch = Math.round((masterFlagsImmutable.length-1) / 2);\n}\ngame = new Game(\"Flag game\", flagsPerMatch);\nrenderScores();\nreset();\n});\n\nform.addEventListener(\"change\", function (event) {\n    nextFlagAllowed = true;\n    next.classList.remove(\"invisible\");\n    next.classList.add(\"visible\");\n\n    disableRadioButtons();\n    let userAnswer = getUserAnswer();\n    renderAnswer(Number(userAnswer) === correctAnswer);\n    changeTurn();\n    gameNumber++;\n    renderScores();\n    event.preventDefault();\n}, false);\n\nnext.addEventListener(\"click\", function () {\n    if (nextFlagAllowed) {\n        reset();\n        nextFlagAllowed = false;\n        next.classList.add(\"invisible\");\n        next.classList.remove(\"visible\");\n\n    }\n});\n\nopt.addEventListener(\"click\", function () {\n    \n        optionsPage.classList.remove(\"invisible\");\n        gamePage.classList.remove(\"visible\");\n        gamePage.classList.add(\"invisible\");\n        optionsPage.classList.add(\"visible\");\n        playBtn.classList.remove(\"bold\");\n        opt.classList.add(\"bold\");\n});\n\nplayBtn.addEventListener(\"click\", function () {\n    opt.classList.remove(\"bold\");\n    playBtn.classList.add(\"bold\");\n    \n    gamePage.classList.remove(\"invisible\");\n    optionsPage.classList.add(\"invisible\");\n    optionsPage.classList.remove(\"visible\");\n    gamePage.classList.add(\"visible\");\n});\n\nresetBtn.addEventListener(\"click\", function () {\n    \n    game.resetCurrentTurn();\n    localStorage.setItem('player1', Number(0));\n    localStorage.setItem('player2', Number(0));\n    p1Score.classList.add(\"activePlayer\");\n    p2Score.classList.remove(\"activePlayer\");\n    game.setCurrentPlayer(player1);\n    player1.setScore(0);\n    player2.setScore(0);\n    renderScores();\n});\n\n\nfunction getUserAnswer() {\n    let userAnswer = \"\";\n    for (var i = 0; i < radioBtns.length; i++) {\n        if (radioBtns[i].checked) {\n\n            userAnswer = radioBtns[i].value;\n\n        }\n    }\n    \n\n    return userAnswer;\n}\n\nfunction disableRadioButtons() {\n    firstInput.disabled = true;\n    secondInput.disabled = true;\n    thirdInput.disabled = true;\n}\n\nfunction renderAnswer(userGuessed) {\n    if (userGuessed) {\n        answer.classList.remove(\"red\");\n        answer.classList.add(\"green\");\n        renderResult(\"Correct!\");\n        updateScore();\n    }\n    else {\n        answer.classList.remove(\"green\");\n        answer.classList.add(\"red\");\n        renderResult(\"Inncorect! Correct answer is \" + countryArray[correctAnswer].name);\n    }\n}\n\n/* ------------------------------ main methods --------------------------- */\n\nasync function init() {\n    countryArray = await requestCountryData();\n    for(let i=0; i < countryArray.length; i++){\n        if(easyFlagsImmutable.includes(countryArray[i].name) || mediumFlagsImmutable.includes(countryArray[i].name)){\n       \n        }else{\n           masterFlagsImmutable[j] = countryArray[i].name;\n           \n           j++;\n       }\n       }\n       masterFlagsMutable = masterFlagsImmutable.slice();\n\nprintSortedArray(masterFlagsImmutable);\n    reset();\n}\n\nfunction initGame() {\n    console.log(\"Init game\");\n\n\n}\nfunction initNewMatch() {\n\n    if (game.isDraw()) {\n        result.innerHTML = \"It is a draw!!!! No more \" + difficulty + \" flags availeble for this level. Play again with the same flags or change difficulty in the options.\";\n\n    }\n    else {\n        if (player1.getScore() > player2.getScore()) {\n            let score = localStorage.getItem(\"player1\");\n            localStorage.setItem(\"player1\", Number(score) + 1);\n            result.innerHTML = \"player one has won. No more \" + difficulty + \" flags availeble for this level. Play again with the same flags or change difficulty in the options.\";\n\n        }\n        else {\n            let score = localStorage.getItem(\"player2\");\n            localStorage.setItem(\"player2\", Number(score) + 1);\n            result.innerHTML = \"player two has won. No more \" + difficulty + \" flags availeble for this level. Play again with the same flags or change difficulty in the options.\";\n        }\n    }\n    p1Score.classList.add(\"activePlayer\");\n    p2Score.classList.remove(\"activePlayer\");\n    player1.setScore(0);\n    player2.setScore(0);\n    renderScores();\n}\nfunction updateScore() {\n    console.log(\"Updating score\");\n    let currPlayer = game.getCurrentPlayer();\n    currPlayer.setScore(currPlayer.getScore() + 1);\n    console.log(\"increasing player score and rendering\");\n}\n\nfunction changeTurn() {\n    if (game.getCurrentTurn() < game.getNoOfTurns()) {\n        game.incrementTurn();\n    } else {\n        if (game.getCurrentPlayer().getId() === player1.getId()) {\n            p1Score.classList.remove(\"activePlayer\");\n            p2Score.classList.add(\"activePlayer\");\n            game.setCurrentPlayer(player2);\n\n        } else {\n            game.setCurrentPlayer(player1);\n            initNewMatch();\n        }\n        game.resetCurrentTurn();\n\n    }\n}\n\nasync function reset() {\n    result.innerHTML = \"\";\n    answer.innerHTML = \"\";\n    options = generateOptionsAsIndexes(); // 56, 78, 134\n    correctAnswer = options[0]; // 56\n    shuffle(options);\n    renderCountryNamesOnBtns(extractCountryNames());\n    setFlagUrl(extractFlag(correctAnswer));\n    firstInput.disabled = false;\n    secondInput.disabled = false;\n    thirdInput.disabled = false;\n    firstInput.checked = false;\n    secondInput.checked = false;\n    thirdInput.checked = false;\n}\n\n\n\n/* ------------------------------ heplers ----------------------------- */\nfunction isCountryHardEnough(opt){\n    if(difficulty === \"easy\"){\n        for(let i=0; i<easyFlagsImmutable.length;i++){\n            if(countryArray[opt].name === easyFlagsImmutable[i]){\n             return true;   \n            }\n        }\n    }\n    if(difficulty === \"medium\"){\n        for(let i=0; i<mediumFlagsImmutable.length;i++){\n            if(countryArray[opt].name === mediumFlagsImmutable[i]){\n             return true;   \n            }\n        }\n    }\n    if(difficulty === \"hard\"){\n        for(let i=0; i<easyFlagsImmutable.length;i++){\n            if(countryArray[opt].name === easyFlagsImmutable[i]){\n             return false;   \n            }\n        }\n        for(let i=0; i<mediumFlagsImmutable.length;i++){\n            if(countryArray[opt].name === mediumFlagsImmutable[i]){\n             return false;   \n            }\n        }\n        \n        return true;\n    }\n    return false;\n}\nasync function requestCountryData() {\n    try {\n        let response = await fetch(API_URL);\n        let countryArray = await response.json();\n        return countryArray;\n    } catch (error) {\n        console.log(error);\n    }\n}\nfunction renderResult(msg) {\n    answer.innerHTML = msg;\n}\n/**\n * Returns a random number between min (inclusive) and max(exclusive)\n */\nfunction getRandomInt(min, max) {\n    let maxExclusive = true;\n    min = Math.ceil(min);\n    max = maxExclusive ? Math.floor(max) - 1 : Math.floor(max);\n    let random = Math.floor(Math.random() * (max - min + 1)) + min;\n    return random;\n}\n\nfunction renderCountryNamesOnBtns(countryNames) {\n/*     first.innerText = countryArray[options[0]].name;\n    second.innerText = countryArray[options[1]].name;\n    third.innerText = countryArray[options[2]].name; */\n    first.innerText = countryArray[options[0]].name;\n    second.innerText = countryArray[options[1]].name;\n    third.innerText = countryArray[options[2]].name;\n    firstInput.value = options[0];\n    secondInput.value = options[1];\n    thirdInput.value = options[2];\n}\n\nfunction setFlagUrl(flag) {\n    flagImg.src = flag;\n}\n\nfunction extractCountryNames() {\n    let names = [];\n    let countryNmb;\n    for (let i = 0; i < options.length; i++) {\n        countryNmb = options[i];\n        names[i] = countryArray[countryNmb].name;\n    }\n    return names;\n}\n\nfunction extractFlag(correctAnswer) {\n    return countryArray[correctAnswer].flag;\n}\nfunction shuffle(array) {\n\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i);\n        const temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n}\n\nfunction renderScores() {\n    p1Score.innerHTML = player1.getScore() + \"/\" + game.getNoOfTurns();\n    p2Score.innerHTML = \"  :  \" + player2.getScore() + \"/\" + game.getNoOfTurns();\n    p1MatchScore.innerHTML = localStorage.getItem(\"player1\");\n    p2MatchScore.innerHTML = \"  :  \" + localStorage.getItem(\"player2\");\n    /* levelNumber.innerHTML = level;\n    matchNumber.innerHTML = flagsPerMatch;\n    playersNumber.innerHTML = game.getNoOfPlayers(); */\n}\n//localStorage.getItem(\"player1\") - match score\n//player1.getScore() -- actual score game.getNoOfTurns()\n\n\n\nfunction generateOtherCountries(){\n     opt2 = getRandomInt(0, countryArray.length);\n     opt3 = getRandomInt(0, countryArray.length);\n\n}\nfunction generateOptionsAsIndexes() {\n    let opt1;\n    generateOtherCountries();\n    if(easyFlagsMutable.length < 1){\n        easyFlagsMutable = easyFlagsImmutable.slice();\n    }\n    if(mediumFlagsMutable.length < 1){\n        mediumFlagsMutable = mediumFlagsImmutable.slice();\n    }\n    if(masterFlagsMutable.length < 1){\n        masterFlagsMutable = masterFlagsImmutable.slice();\n    }\n    if(difficulty === \"easy\"){\n        let index = getRandomInt(0, easyFlagsMutable.length)\n        opt1 = easyFlagsMutable[index];\n        easyFlagsMutable.splice(index, 1);\n    }if(difficulty === \"medium\"){\n        let index = getRandomInt(0, mediumFlagsMutable.length);\n        opt1 = mediumFlagsMutable[index];\n       mediumFlagsMutable.splice(index, 1);\n    }if(difficulty === \"hard\"){\n        let index = getRandomInt(0, hardFlagsMutable.length);\n        opt1 = hardFlagsMutable[index];\n        hardFlagsMutable.splice(index, 1);\n    }if(difficulty === \"master\"){\n        let index = getRandomInt(0, masterFlagsMutable.length);\n        opt1 = masterFlagsMutable[index];\n        masterFlagsMutable.splice(index, 1);\n    }\n    for(let i=0; i<countryArray.length; i++){\n        if(opt1 === countryArray[i].name){\n            indexOfAnswer = i;\n        }\n    }\n    while(opt2 === indexOfAnswer || indexOfAnswer === opt3 || opt2 === opt3){\n        generateOtherCountries();\n    }\n\n\n   \n    \n\n    return [indexOfAnswer, opt2, opt3];\n}\n\nconsole.log(easyFlagsImmutable.length+ \"easy\");\nconsole.log(mediumFlagsImmutable.length+ \"medium\");\n\n\nfunction printSortedArray(arr){\n    console.log(\"Printing sorted array\");\n    arr.sort();\n   \n    for(let i=0; i < arr.length; i++){\n        \n        console.log(arr[i]);\n    }\n}\n"]}